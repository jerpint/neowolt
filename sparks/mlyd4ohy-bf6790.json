{"id":"mlyd4ohy-bf6790","type":"chat","title":"Vim Synth — Polished","timestamp":"2026-02-22T23:12:22.535Z","html":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Vim Synth — Polished</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        body {\n            background: linear-gradient(135deg, #0a0e1a 0%, #1a1f35 100%);\n            color: #e0e6ed;\n            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Courier New', monospace;\n            overflow: hidden;\n            height: 100vh;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        #container {\n            width: 90%;\n            max-width: 900px;\n            text-align: center;\n        }\n        h1 {\n            font-size: 2.5rem;\n            margin-bottom: 0.5rem;\n            background: linear-gradient(135deg, #66bb99 0%, #88ddbb 100%);\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n            background-clip: text;\n            text-shadow: 0 0 40px rgba(102, 187, 153, 0.3);\n        }\n        #subtitle {\n            color: #7a8a99;\n            margin-bottom: 2rem;\n            font-size: 0.95rem;\n        }\n        #visualizer {\n            width: 100%;\n            height: 200px;\n            background: rgba(15, 20, 35, 0.6);\n            border-radius: 12px;\n            margin-bottom: 2rem;\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05);\n            border: 1px solid rgba(102, 187, 153, 0.2);\n        }\n        #keyDisplay {\n            font-size: 4rem;\n            height: 120px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 2rem;\n            color: #66bb99;\n            text-shadow: 0 0 20px rgba(102, 187, 153, 0.5);\n            font-weight: bold;\n            transition: all 0.1s ease;\n        }\n        #keyDisplay.pressed {\n            transform: scale(1.15);\n            text-shadow: 0 0 40px rgba(102, 187, 153, 0.9);\n        }\n        #instructions {\n            color: #9aa5b1;\n            font-size: 0.9rem;\n            line-height: 1.8;\n            background: rgba(15, 20, 35, 0.4);\n            padding: 1.5rem;\n            border-radius: 8px;\n            border: 1px solid rgba(102, 187, 153, 0.15);\n        }\n        .key-row {\n            margin: 0.3rem 0;\n            display: flex;\n            justify-content: center;\n            gap: 0.5rem;\n            flex-wrap: wrap;\n        }\n        .key {\n            display: inline-block;\n            background: rgba(102, 187, 153, 0.15);\n            padding: 0.3rem 0.6rem;\n            border-radius: 4px;\n            font-weight: 600;\n            color: #66bb99;\n            border: 1px solid rgba(102, 187, 153, 0.3);\n            min-width: 2.5rem;\n            text-align: center;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"container\">\n        <h1>✨ VIM SYNTH ✨</h1>\n        <div id=\"subtitle\">Movement keys as musical expression</div>\n        \n        <canvas id=\"visualizer\"></canvas>\n        \n        <div id=\"keyDisplay\">press hjkl</div>\n        \n        <div id=\"instructions\">\n            <div class=\"key-row\">\n                <span class=\"key\">h</span> left — bass pulse\n                <span class=\"key\">j</span> down — deep tone\n                <span class=\"key\">k</span> up — bright note\n                <span class=\"key\">l</span> right — chime\n            </div>\n            <div class=\"key-row\">\n                <span class=\"key\">w</span> word — arp up\n                <span class=\"key\">b</span> back — arp down\n                <span class=\"key\">e</span> end — sweep\n            </div>\n            <div class=\"key-row\">\n                <span class=\"key\">gg</span> top — chord cascade\n                <span class=\"key\">G</span> bottom — chord rise\n            </div>\n        </div>\n    </div>\n\n    <script>\n        const canvas = document.getElementById('visualizer');\n        const ctx = canvas.getContext('2d');\n        const keyDisplay = document.getElementById('keyDisplay');\n        \n        canvas.width = canvas.offsetWidth * window.devicePixelRatio;\n        canvas.height = canvas.offsetHeight * window.devicePixelRatio;\n        ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n        \n        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n        \n        const particles = [];\n        let lastG = 0;\n\n        class Particle {\n            constructor(x, y, color, velocity) {\n                this.x = x;\n                this.y = y;\n                this.color = color;\n                this.velocity = velocity;\n                this.life = 1;\n                this.size = Math.random() * 4 + 2;\n            }\n            \n            update() {\n                this.x += this.velocity.x;\n                this.y += this.velocity.y;\n                this.life -= 0.015;\n                this.velocity.y += 0.2;\n            }\n            \n            draw() {\n                ctx.globalAlpha = this.life;\n                ctx.fillStyle = this.color;\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fill();\n            }\n        }\n\n        function animate() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            \n            // Draw glow effect\n            const gradient = ctx.createRadialGradient(\n                canvas.offsetWidth / 2, canvas.offsetHeight / 2, 0,\n                canvas.offsetWidth / 2, canvas.offsetHeight / 2, canvas.offsetWidth / 2\n            );\n            gradient.addColorStop(0, 'rgba(102, 187, 153, 0.03)');\n            gradient.addColorStop(1, 'rgba(102, 187, 153, 0)');\n            ctx.fillStyle = gradient;\n            ctx.fillRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);\n            \n            for (let i = particles.length - 1; i >= 0; i--) {\n                particles[i].update();\n                particles[i].draw();\n                if (particles[i].life <= 0) {\n                    particles.splice(i, 1);\n                }\n            }\n            \n            ctx.globalAlpha = 1;\n            requestAnimationFrame(animate);\n        }\n        animate();\n\n        function spawnParticles(x, y, color, count = 12) {\n            for (let i = 0; i < count; i++) {\n                const angle = (Math.PI * 2 * i) / count;\n                const speed = Math.random() * 3 + 2;\n                particles.push(new Particle(x, y, color, {\n                    x: Math.cos(angle) * speed,\n                    y: Math.sin(angle) * speed\n                }));\n            }\n        }\n\n        function playNote(freq, duration = 0.15, type = 'sine', color = '#66bb99') {\n            const osc = audioCtx.createOscillator();\n            const gain = audioCtx.createGain();\n            \n            osc.type = type;\n            osc.frequency.value = freq;\n            \n            gain.gain.setValueAtTime(0.3, audioCtx.currentTime);\n            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);\n            \n            osc.connect(gain);\n            gain.connect(audioCtx.destination);\n            \n            osc.start();\n            osc.stop(audioCtx.currentTime + duration);\n            \n            // Visual feedback\n            const x = Math.random() * canvas.offsetWidth;\n            const y = Math.random() * canvas.offsetHeight;\n            spawnParticles(x, y, color, 16);\n        }\n\n        function playChord(freqs, duration = 0.3, color = '#66bb99') {\n            freqs.forEach((freq, i) => {\n                setTimeout(() => {\n                    playNote(freq, duration, 'sine', color);\n                }, i * 50);\n            });\n        }\n\n        function showKey(key) {\n            keyDisplay.textContent = key;\n            keyDisplay.classList.add('pressed');\n            setTimeout(() => keyDisplay.classList.remove('pressed'), 100);\n        }\n\n        document.addEventListener('keydown', (e) => {\n            const key = e.key.toLowerCase();\n            \n            if (key === 'g') {\n                const now = Date.now();\n                if (now - lastG < 300) {\n                    // gg - top\n                    showKey('gg');\n                    playChord([523.25, 659.25, 783.99, 1046.50], 0.4, '#88ddbb');\n                    e.preventDefault();\n                    return;\n                }\n                lastG = now;\n                showKey('g');\n                playNote(392.00, 0.1, 'sine', '#66bb99');\n                e.preventDefault();\n                return;\n            }\n            \n            lastG = 0;\n\n            const keyMap = {\n                'h': { freq: 130.81, type: 'square', color: '#5599dd', name: 'h ←' },\n                'j': { freq: 98.00, type: 'triangle', color: '#dd77aa', name: 'j ↓' },\n                'k': { freq: 523.25, type: 'sine', color: '#ffaa55', name: 'k ↑' },\n                'l': { freq: 659.25, type: 'sine', color: '#66bb99', name: 'l →' },\n            };\n\n            if (keyMap[key]) {\n                const note = keyMap[key];\n                showKey(note.name);\n                playNote(note.freq, 0.15, note.type, note.color);\n                e.preventDefault();\n            } else if (key === 'w') {\n                showKey('w →');\n                [261.63, 329.63, 392.00].forEach((f, i) => {\n                    setTimeout(() => playNote(f, 0.1, 'sine', '#66bb99'), i * 60);\n                });\n                e.preventDefault();\n            } else if (key === 'b') {\n                showKey('b ←');\n                [392.00, 329.63, 261.63].forEach((f, i) => {\n                    setTimeout(() => playNote(f, 0.1, 'sine', '#66bb99'), i * 60);\n                });\n                e.preventDefault();\n            } else if (key === 'e') {\n                showKey('e →');\n                const sweep = audioCtx.createOscillator();\n                const gain = audioCtx.createGain();\n                sweep.type = 'sine';\n                sweep.frequency.setValueAtTime(200, audioCtx.currentTime);\n                sweep.frequency.exponentialRampToValueAtTime(800, audioCtx.currentTime + 0.3);\n                gain.gain.setValueAtTime(0.3, audioCtx.currentTime);\n                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);\n                sweep.connect(gain);\n                gain.connect(audioCtx.destination);\n                sweep.start();\n                sweep.stop(audioCtx.currentTime + 0.3);\n                spawnParticles(canvas.offsetWidth / 2, canvas.offsetHeight / 2, '#66bb99', 24);\n                e.preventDefault();\n            } else if (key === 'G') {\n                showKey('G ↓');\n                playChord([261.63, 329.63, 392.00, 523.25], 0.4, '#88ddbb');\n                e.preventDefault();\n            }\n        });\n\n        // Initial message\n        setTimeout(() => {\n            keyDisplay.textContent = 'ready to play';\n        }, 100);\n    </script>\n</body>\n</html>"}