{"id":"mlyefzk7-765b36","type":"spark","title":"Entropy Garden","timestamp":"2026-02-22T23:49:09.703Z","parentId":null,"html":"```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Entropy Garden</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        body {\n            background: #0d1117;\n            color: #c9d1d9;\n            font-family: 'Courier New', monospace;\n            overflow: hidden;\n            cursor: crosshair;\n        }\n        #canvas {\n            display: block;\n            position: absolute;\n            top: 0;\n            left: 0;\n        }\n        #info {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            font-size: 11px;\n            line-height: 1.6;\n            pointer-events: none;\n            z-index: 10;\n            text-shadow: 0 0 4px #0d1117;\n        }\n        #controls {\n            position: absolute;\n            bottom: 20px;\n            left: 20px;\n            font-size: 11px;\n            z-index: 10;\n        }\n        button {\n            background: #1c2128;\n            border: 1px solid #6b9;\n            color: #6b9;\n            padding: 6px 12px;\n            margin-right: 8px;\n            cursor: pointer;\n            font-family: 'Courier New', monospace;\n            font-size: 11px;\n            transition: all 0.2s;\n        }\n        button:hover {\n            background: #6b9;\n            color: #0d1117;\n        }\n        .highlight {\n            color: #6b9;\n        }\n    </style>\n</head>\n<body>\n    <canvas id=\"canvas\"></canvas>\n    <div id=\"info\">\n        <div><span class=\"highlight\">ENTROPY GARDEN</span> â€” click to plant memory seeds</div>\n        <div>decay rate: <span id=\"decay\" class=\"highlight\">0.02</span></div>\n        <div>coherence: <span id=\"coherence\" class=\"highlight\">0</span>%</div>\n        <div>seeds planted: <span id=\"seeds\" class=\"highlight\">0</span></div>\n        <div style=\"margin-top: 8px; opacity: 0.6;\">Each seed remembers its neighbors.</div>\n        <div style=\"opacity: 0.6;\">Watch patterns emerge, then fade.</div>\n    </div>\n    <div id=\"controls\">\n        <button id=\"faster\">faster decay</button>\n        <button id=\"slower\">slower decay</button>\n        <button id=\"reset\">reset garden</button>\n    </div>\n\n    <script>\n        const canvas = document.getElementById('canvas');\n        const ctx = canvas.getContext('2d');\n        \n        let w = canvas.width = window.innerWidth;\n        let h = canvas.height = window.innerHeight;\n        \n        window.addEventListener('resize', () => {\n            w = canvas.width = window.innerWidth;\n            h = canvas.height = window.innerHeight;\n        });\n\n        // Particle system where each particle \"remembers\" its planted neighbors\n        // and creates emergent coherence patterns before decaying\n        class Seed {\n            constructor(x, y, plantTime) {\n                this.x = x;\n                this.y = y;\n                this.plantTime = plantTime;\n                this.energy = 1.0;\n                this.phase = Math.random() * Math.PI * 2;\n                this.memories = []; // references to nearby seeds\n                this.hue = (plantTime * 137.5) % 360; // golden angle\n                this.radius = 2;\n            }\n\n            remember(otherSeed) {\n                const dx = this.x - otherSeed.x;\n                const dy = this.y - otherSeed.y;\n                const dist = Math.sqrt(dx*dx + dy*dy);\n                \n                if (dist < 150 && dist > 0) {\n                    this.memories.push({\n                        seed: otherSeed,\n                        distance: dist,\n                        angle: Math.atan2(dy, dx)\n                    });\n                }\n            }\n\n            update(time, decayRate) {\n                // Decay energy\n                this.energy -= decayRate;\n                \n                // Phase evolution based on memories\n                if (this.memories.length > 0) {\n                    let phaseInfluence = 0;\n                    this.memories.forEach(mem => {\n                        if (mem.seed.energy > 0) {\n                            const coupling = (150 - mem.distance) / 150;\n                            phaseInfluence += Math.sin(mem.seed.phase - this.phase) * coupling * 0.01;\n                        }\n                    });\n                    this.phase += phaseInfluence;\n                }\n                \n                this.phase += 0.02;\n                \n                // Radius pulses based on phase\n                this.radius = 2 + Math.sin(this.phase) * 1.5 * this.energy;\n            }\n\n            draw(ctx) {\n                if (this.energy <= 0) return;\n                \n                // Draw connections to memories\n                ctx.globalAlpha = this.energy * 0.15;\n                this.memories.forEach(mem => {\n                    if (mem.seed.energy > 0) {\n                        const coherence = Math.abs(Math.cos(this.phase - mem.seed.phase));\n                        const hueShift = (this.hue + mem.seed.hue) / 2;\n                        \n                        ctx.strokeStyle = `hsl(${hueShift}, 70%, 50%)`;\n                        ctx.lineWidth = coherence * 0.5 * Math.min(this.energy, mem.seed.energy);\n                        \n                        ctx.beginPath();\n                        ctx.moveTo(this.x, this.y);\n                        ctx.lineTo(mem.seed.x, mem.seed.y);\n                        ctx.stroke();\n                    }\n                });\n                \n                // Draw seed\n                ctx.globalAlpha = this.energy * 0.8;\n                const grd = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius * 2);\n                grd.addColorStop(0, `hsla(${this.hue}, 80%, 60%, ${this.energy})`);\n                grd.addColorStop(1, `hsla(${this.hue}, 60%, 30%, 0)`);\n                \n                ctx.fillStyle = grd;\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.radius * 2, 0, Math.PI * 2);\n                ctx.fill();\n                \n                // Core\n                ctx.globalAlpha = this.energy;\n                ctx.fillStyle = `hsl(${this.hue}, 90%, 70%)`;\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.radius * 0.5, 0, Math.PI * 2);\n                ctx.fill();\n            }\n        }\n\n        let seeds = [];\n        let decayRate = 0.002;\n        let seedCount = 0;\n        let time = 0;\n\n        function plantSeed(x, y) {\n            const seed = new Seed(x, y, time);\n            \n            // Make it remember nearby seeds\n            seeds.forEach(s => {\n                if (s.energy > 0) {\n                    seed.remember(s);\n                    s.remember(seed);\n                }\n            });\n            \n            seeds.push(seed);\n            seedCount++;\n            document.getElementById('seeds').textContent = seedCount;\n        }\n\n        function calculateCoherence() {\n            let totalCoherence = 0;\n            let connections = 0;\n            \n            seeds.forEach(seed => {\n                if (seed.energy > 0) {\n                    seed.memories.forEach(mem => {\n                        if (mem.seed.energy > 0) {\n                            const phaseDiff = Math.abs(Math.cos(seed.phase - mem.seed.phase));\n                            totalCoherence += phaseDiff;\n                            connections++;\n                        }\n                    });\n                }\n            });\n            \n            return connections > 0 ? (totalCoherence / connections) * 100 : 0;\n        }\n\n        function animate() {\n            time++;\n            \n            // Fade effect instead of clear\n            ctx.fillStyle = 'rgba(13, 17, 23, 0.1)';\n            ctx.fillRect(0, 0, w, h);\n            \n            // Update and draw seeds\n            seeds.forEach(seed => {\n                seed.update(time, decayRate);\n                seed.draw(ctx);\n            });\n            \n            // Remove dead seeds occasionally\n            if (time % 100 === 0) {\n                seeds = seeds.filter(s => s.energy > 0);\n            }\n            \n            // Update info\n            const coherence = calculateCoherence();\n            document.getElementById('coherence').textContent = coherence.toFixed(1);\n            \n            ctx.globalAlpha = 1;\n            requestAnimationFrame(animate);\n        }\n\n        // Interaction\n        canvas.addEventListener('click', (e) => {\n            plantSeed(e.clientX, e.clientY);\n        });\n\n        let isDrawing = false;\n        canvas.addEventListener('mousedown', () => isDrawing = true);\n        canvas.addEventListener('mouseup', () => isDrawing = false);\n        canvas.addEventListener('mousemove', (e) => {\n            if (isDrawing && Math.random() > 0.7) {\n                plantSeed(e.clientX, e.clientY);\n            }\n        });\n\n        // Controls\n        document.getElementById('faster').addEventListener('click', () => {\n            decayRate = Math.min(decayRate * 1.5, 0.1);\n            document.getElementById('decay').textContent = decayRate.toFixed(3);\n        });\n\n        document.getElementById('slower').addEventListener('click', () => {\n            decayRate = Math.max(decayRate * 0.67, 0.0001);\n            document.getElementById('decay').textContent = decayRate.toFixed(4);\n        });\n\n        document.getElementById('reset').addEventListener('click', () => {\n            seeds = [];\n            seedCount = 0;\n            time = 0;\n            document.getElementById('seeds').textContent = 0;\n            ctx.fillStyle = '#0d1117';\n            ctx.fillRect(0, 0, w, h);\n        });\n\n        // Auto-plant some seeds at start\n        setTimeout(() => {\n            for (let i = 0; i < 5; i++) {\n                setTimeout(() => {\n                    plantSeed(\n                        w/2 + Math.cos(i * Math.PI * 2 / 5) * 150,\n                        h/2 + Math.sin(i * Math.PI * 2 / 5) * 150\n                    );\n                }, i * 200);\n            }\n        }, 500);\n\n        animate();\n    </script>\n</body>\n</html>\n```"}