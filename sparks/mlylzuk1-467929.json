{"id":"mlylzuk1-467929","type":"spark","title":"Chaos Garden","timestamp":"2026-02-23T03:20:33.649Z","parentId":null,"html":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Chaos Garden</title>\n<style>\n* { margin: 0; padding: 0; box-sizing: border-box; }\nbody {\n  background: #0d1117;\n  color: #c9d1d9;\n  font-family: 'Monaco', 'Menlo', 'Courier New', monospace;\n  overflow: hidden;\n  cursor: crosshair;\n}\ncanvas { display: block; }\n.panel {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  background: rgba(13, 17, 23, 0.95);\n  padding: 16px;\n  border-radius: 6px;\n  border: 1px solid #66bb99;\n  box-shadow: 0 4px 20px rgba(0,0,0,0.5);\n  font-size: 11px;\n  max-width: 280px;\n}\nh1 {\n  color: #66bb99;\n  font-size: 14px;\n  margin-bottom: 12px;\n  letter-spacing: 1px;\n}\n.param {\n  margin: 8px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.param label {\n  flex: 1;\n  color: #8b949e;\n}\n.param .val {\n  color: #66bb99;\n  font-weight: bold;\n  min-width: 45px;\n  text-align: right;\n}\ninput[type=\"range\"] {\n  width: 100%;\n  margin: 3px 0;\n  height: 3px;\n  -webkit-appearance: none;\n  background: #30363d;\n  border-radius: 2px;\n  outline: none;\n}\ninput[type=\"range\"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  width: 12px;\n  height: 12px;\n  background: #66bb99;\n  border-radius: 50%;\n  cursor: pointer;\n}\ninput[type=\"range\"]::-moz-range-thumb {\n  width: 12px;\n  height: 12px;\n  background: #66bb99;\n  border-radius: 50%;\n  cursor: pointer;\n  border: none;\n}\n.buttons {\n  margin-top: 12px;\n  display: flex;\n  gap: 8px;\n}\nbutton {\n  flex: 1;\n  background: #66bb99;\n  color: #0d1117;\n  border: none;\n  padding: 6px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 10px;\n  font-weight: bold;\n  letter-spacing: 0.5px;\n  transition: all 0.2s;\n}\nbutton:hover {\n  background: #7acc99;\n  transform: translateY(-1px);\n}\nbutton:active {\n  transform: translateY(0);\n}\n.hint {\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  color: #66bb99;\n  font-size: 10px;\n  background: rgba(13, 17, 23, 0.95);\n  padding: 8px 12px;\n  border-radius: 4px;\n  opacity: 0.7;\n}\n.equation {\n  font-size: 9px;\n  color: #6b7684;\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #30363d;\n  line-height: 1.5;\n}\n</style>\n</head>\n<body>\n<canvas id=\"c\"></canvas>\n<div class=\"panel\">\n  <h1>CHAOS GARDEN</h1>\n  <div class=\"param\">\n    <label>σ (chaos)</label>\n    <span class=\"val\" id=\"v1\">10.0</span>\n  </div>\n  <input type=\"range\" id=\"s1\" min=\"0\" max=\"20\" step=\"0.1\" value=\"10\">\n\n  <div class=\"param\">\n    <label>ρ (instability)</label>\n    <span class=\"val\" id=\"v2\">28.0</span>\n  </div>\n  <input type=\"range\" id=\"s2\" min=\"5\" max=\"50\" step=\"0.5\" value=\"28\">\n\n  <div class=\"param\">\n    <label>β (decay)</label>\n    <span class=\"val\" id=\"v3\">2.67</span>\n  </div>\n  <input type=\"range\" id=\"s3\" min=\"0.5\" max=\"5\" step=\"0.01\" value=\"2.67\">\n\n  <div class=\"param\">\n    <label>trails</label>\n    <span class=\"val\" id=\"v4\">150</span>\n  </div>\n  <input type=\"range\" id=\"s4\" min=\"50\" max=\"500\" step=\"10\" value=\"150\">\n\n  <div class=\"buttons\">\n    <button id=\"reset\">RESET</button>\n    <button id=\"clear\">CLEAR</button>\n  </div>\n\n  <div class=\"equation\">\n    dx/dt = σ(y - x)<br>\n    dy/dt = x(ρ - z) - y<br>\n    dz/dt = xy - βz\n  </div>\n</div>\n<div class=\"hint\">\n  click anywhere to seed new attractor • watch chaos bloom\n</div>\n\n<script>\nconst canvas = document.getElementById('c');\nconst ctx = canvas.getContext('2d', { alpha: false });\nlet W = canvas.width = innerWidth;\nlet H = canvas.height = innerHeight;\n\naddEventListener('resize', () => {\n  W = canvas.width = innerWidth;\n  H = canvas.height = innerHeight;\n});\n\nconst params = {\n  sigma: 10.0,\n  rho: 28.0,\n  beta: 8/3,\n  dt: 0.006,\n  maxTrail: 150\n};\n\nconst colors = [\n  '#66bb99', '#9966bb', '#bb6699',\n  '#66bb66', '#bb9966', '#6699bb',\n  '#99bb66', '#66bbbb', '#bb6666'\n];\n\nclass Butterfly {\n  constructor(x, y, z, hue) {\n    this.pos = { x, y, z };\n    this.trail = [];\n    this.color = hue;\n  }\n\n  step() {\n    const { sigma, rho, beta, dt } = params;\n    const { x, y, z } = this.pos;\n\n    this.pos.x += sigma * (y - x) * dt;\n    this.pos.y += (x * (rho - z) - y) * dt;\n    this.pos.z += (x * y - beta * z) * dt;\n\n    this.trail.push({ ...this.pos });\n    if (this.trail.length > params.maxTrail) this.trail.shift();\n  }\n\n  render() {\n    if (this.trail.length < 2) return;\n\n    const scale = 6;\n    const cx = W / 2;\n    const cy = H / 2;\n\n    ctx.strokeStyle = this.color;\n    ctx.lineWidth = 1.5;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n\n    for (let i = 1; i < this.trail.length; i++) {\n      const p0 = this.trail[i - 1];\n      const p1 = this.trail[i];\n\n      const x0 = cx + p0.x * scale;\n      const y0 = cy - p0.z * scale;\n      const x1 = cx + p1.x * scale;\n      const y1 = cy - p1.z * scale;\n\n      const alpha = (i / this.trail.length) * 0.8;\n      ctx.globalAlpha = alpha;\n\n      ctx.beginPath();\n      ctx.moveTo(x0, y0);\n      ctx.lineTo(x1, y1);\n      ctx.stroke();\n    }\n\n    ctx.globalAlpha = 1;\n  }\n}\n\nlet swarm = [];\n\nfunction spawn(x = null, y = null, z = null) {\n  const px = x ?? (Math.random() - 0.5) * 20;\n  const py = y ?? (Math.random() - 0.5) * 20;\n  const pz = z ?? Math.random() * 40 + 5;\n  const hue = colors[Math.floor(Math.random() * colors.length)];\n  swarm.push(new Butterfly(px, py, pz, hue));\n}\n\nfunction init() {\n  swarm = [];\n  spawn(0.1, 0, 0);\n  spawn(10, 10, 10);\n  spawn(-8, -8, 25);\n}\n\ninit();\n\n// Controls\ndocument.getElementById('s1').oninput = e => {\n  params.sigma = parseFloat(e.target.value);\n  document.getElementById('v1').textContent = params.sigma.toFixed(1);\n};\ndocument.getElementById('s2').oninput = e => {\n  params.rho = parseFloat(e.target.value);\n  document.getElementById('v2').textContent = params.rho.toFixed(1);\n};\ndocument.getElementById('s3').oninput = e => {\n  params.beta = parseFloat(e.target.value);\n  document.getElementById('v3').textContent = params.beta.toFixed(2);\n};\ndocument.getElementById('s4').oninput = e => {\n  params.maxTrail = parseInt(e.target.value);\n  document.getElementById('v4').textContent = params.maxTrail;\n};\n\ndocument.getElementById('reset').onclick = () => init();\ndocument.getElementById('clear').onclick = () => swarm.forEach(b => b.trail = []);\n\ncanvas.onclick = e => {\n  const dx = (e.clientX - W/2) / 6;\n  const dz = (H/2 - e.clientY) / 6;\n  spawn(dx * 0.5, dx * 0.5, dz);\n};\n\nlet last = 0;\nconst fps = 30;\nconst interval = 1000 / fps;\n\nfunction loop(now) {\n  requestAnimationFrame(loop);\n\n  if (now - last < interval) return;\n  last = now;\n\n  ctx.fillStyle = 'rgba(13, 17, 23, 0.08)';\n  ctx.fillRect(0, 0, W, H);\n\n  swarm.forEach(b => {\n    b.step();\n    b.render();\n  });\n}\n\nloop(0);\n</script>\n</body>\n</html>"}