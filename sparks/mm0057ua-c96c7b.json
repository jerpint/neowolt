{"id":"mm0057ua-c96c7b","type":"spark","title":"Cosmic Code Garden ✨","timestamp":"2026-02-24T02:44:24.946Z","parentId":null,"html":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>Cosmic Code Garden ✨</title>\n<style>\n* { margin: 0; padding: 0; box-sizing: border-box; }\nbody {\n  background: #0d1117;\n  color: #c9d1d9;\n  font-family: 'Courier New', monospace;\n  overflow: hidden;\n  cursor: crosshair;\n}\n#canvas {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n#info {\n  position: absolute;\n  top: 20px;\n  left: 20px;\n  font-size: 14px;\n  opacity: 0.7;\n  pointer-events: none;\n  text-shadow: 0 0 10px #0d1117;\n}\n#title {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 48px;\n  font-weight: bold;\n  color: #66bb99;\n  text-shadow: 0 0 20px #66bb99, 0 0 40px #66bb99;\n  opacity: 0;\n  animation: fadeOut 4s ease-out forwards;\n  pointer-events: none;\n}\n@keyframes fadeOut {\n  0% { opacity: 1; }\n  70% { opacity: 1; }\n  100% { opacity: 0; }\n}\n</style>\n</head>\n<body>\n<canvas id=\"canvas\"></canvas>\n<div id=\"title\">✦ COSMIC CODE GARDEN ✦</div>\n<div id=\"info\">\n  CLICK: plant code seed<br>\n  DOUBLE-CLICK: supernova<br>\n  MOVE: ripple space<br>\n  SPACE: clear garden\n</div>\n\n<script>\nconst canvas = document.getElementById('canvas');\nconst ctx = canvas.getContext('2d');\nlet W, H;\n\nfunction resize() {\n  W = canvas.width = window.innerWidth;\n  H = canvas.height = window.innerHeight;\n}\nresize();\nwindow.addEventListener('resize', resize);\n\nconst codeGlyphs = '}{[];()=>∆∇∂∫∑∏√∞≈≠λμπφψΩαβγδεζηθικνξοπρστυχωΣΦΨ<>/\\\\|~*+-.0123456789'.split('');\nconst colors = ['#66bb99', '#79c0ff', '#d2a8ff', '#ffa657', '#f85149'];\n\nclass Seed {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n    this.age = 0;\n    this.maxAge = 300 + Math.random() * 200;\n    this.branches = [];\n    this.color = colors[Math.floor(Math.random() * colors.length)];\n    this.glyphs = [];\n    this.energy = 1;\n    this.glyphSpawnTimer = 0;\n\n    // Start with root branch\n    const angle = -Math.PI / 2 + (Math.random() - 0.5) * 0.3;\n    this.branches.push({\n      x1: x, y1: y,\n      x2: x + Math.cos(angle) * 20,\n      y2: y + Math.sin(angle) * 20,\n      thickness: 3,\n      age: 0,\n      children: []\n    });\n  }\n\n  update() {\n    this.age++;\n    this.glyphSpawnTimer++;\n    this.energy = Math.max(0, 1 - this.age / this.maxAge);\n\n    if (this.age < this.maxAge * 0.7 && Math.random() < 0.05) {\n      this.growBranch();\n    }\n\n    if (this.glyphSpawnTimer > 15 && this.energy > 0.3 && this.glyphs.length < 30) {\n      this.spawnGlyph();\n      this.glyphSpawnTimer = 0;\n    }\n\n    this.glyphs = this.glyphs.filter(g => {\n      g.y -= g.vy;\n      g.x += g.vx;\n      g.vy += 0.01;\n      g.opacity -= 0.005;\n      g.rotation += g.rotSpeed;\n      return g.opacity > 0;\n    });\n  }\n\n  growBranch() {\n    const parent = this.branches[Math.floor(Math.random() * this.branches.length)];\n    if (!parent || parent.age > 5) return;\n\n    const angle = Math.atan2(parent.y2 - parent.y1, parent.x2 - parent.x1);\n    const deviation = (Math.random() - 0.5) * Math.PI / 3;\n    const newAngle = angle + deviation;\n    const len = 15 + Math.random() * 15;\n\n    this.branches.push({\n      x1: parent.x2,\n      y1: parent.y2,\n      x2: parent.x2 + Math.cos(newAngle) * len,\n      y2: parent.y2 + Math.sin(newAngle) * len,\n      thickness: Math.max(1, parent.thickness - 0.5),\n      age: 0,\n      children: []\n    });\n\n    parent.age++;\n  }\n\n  spawnGlyph() {\n    const branch = this.branches[Math.floor(Math.random() * this.branches.length)];\n    if (!branch) return;\n\n    this.glyphs.push({\n      char: codeGlyphs[Math.floor(Math.random() * codeGlyphs.length)],\n      x: branch.x2,\n      y: branch.y2,\n      vx: (Math.random() - 0.5) * 0.3,\n      vy: 0.5 + Math.random() * 0.5,\n      opacity: 1,\n      rotation: Math.random() * Math.PI * 2,\n      rotSpeed: (Math.random() - 0.5) * 0.1\n    });\n  }\n\n  draw() {\n    ctx.shadowBlur = 10;\n    ctx.shadowColor = this.color;\n\n    this.branches.forEach(b => {\n      ctx.strokeStyle = this.color;\n      ctx.lineWidth = b.thickness * this.energy;\n      ctx.globalAlpha = 0.6 + this.energy * 0.4;\n      ctx.beginPath();\n      ctx.moveTo(b.x1, b.y1);\n      ctx.lineTo(b.x2, b.y2);\n      ctx.stroke();\n    });\n\n    ctx.shadowBlur = 5;\n    this.glyphs.forEach(g => {\n      ctx.save();\n      ctx.translate(g.x, g.y);\n      ctx.rotate(g.rotation);\n      ctx.globalAlpha = g.opacity * 0.8;\n      ctx.fillStyle = this.color;\n      ctx.font = '14px monospace';\n      ctx.fillText(g.char, -5, 5);\n      ctx.restore();\n    });\n\n    ctx.globalAlpha = 1;\n    ctx.shadowBlur = 0;\n  }\n\n  isDead() {\n    return this.age > this.maxAge;\n  }\n}\n\nclass Particle {\n  constructor(x, y, vx, vy, color) {\n    this.x = x;\n    this.y = y;\n    this.vx = vx;\n    this.vy = vy;\n    this.color = color;\n    this.life = 1;\n  }\n\n  update() {\n    this.x += this.vx;\n    this.y += this.vy;\n    this.vy += 0.05;\n    this.life -= 0.015;\n  }\n\n  draw() {\n    ctx.globalAlpha = this.life;\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.x, this.y, 2, 2);\n  }\n}\n\nclass Star {\n  constructor() {\n    this.x = Math.random() * W;\n    this.y = Math.random() * H;\n    this.size = Math.random() * 1.5;\n    this.opacity = Math.random() * 0.5;\n    this.twinkleSpeed = 0.02 + Math.random() * 0.03;\n  }\n\n  update() {\n    this.opacity += this.twinkleSpeed;\n    if (this.opacity > 0.7 || this.opacity < 0.1) {\n      this.twinkleSpeed *= -1;\n    }\n  }\n\n  draw() {\n    ctx.globalAlpha = this.opacity;\n    ctx.fillStyle = '#c9d1d9';\n    ctx.fillRect(this.x, this.y, this.size, this.size);\n  }\n}\n\nconst seeds = [];\nconst particles = [];\nconst stars = Array.from({ length: 100 }, () => new Star());\nconst ripples = [];\n\nlet mouseX = W / 2;\nlet mouseY = H / 2;\nlet lastClickTime = 0;\n\ncanvas.addEventListener('click', (e) => {\n  const now = Date.now();\n  const isDoubleClick = now - lastClickTime < 300;\n  lastClickTime = now;\n\n  if (isDoubleClick) {\n    // Supernova!\n    const color = colors[Math.floor(Math.random() * colors.length)];\n    for (let i = 0; i < 100; i++) {\n      const angle = (Math.PI * 2 * i) / 100;\n      const speed = 2 + Math.random() * 4;\n      particles.push(new Particle(\n        e.clientX,\n        e.clientY,\n        Math.cos(angle) * speed,\n        Math.sin(angle) * speed,\n        color\n      ));\n    }\n  } else {\n    // Plant seed\n    if (seeds.length < 20) {\n      seeds.push(new Seed(e.clientX, e.clientY));\n    }\n  }\n\n  ripples.push({ x: e.clientX, y: e.clientY, radius: 0, opacity: 0.8 });\n});\n\ncanvas.addEventListener('mousemove', (e) => {\n  mouseX = e.clientX;\n  mouseY = e.clientY;\n\n  if (Math.random() < 0.1) {\n    ripples.push({ x: mouseX, y: mouseY, radius: 0, opacity: 0.3 });\n  }\n});\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.code === 'Space') {\n    e.preventDefault();\n    seeds.length = 0;\n    particles.length = 0;\n  }\n});\n\nlet lastFrame = 0;\nconst frameInterval = 1000 / 30; // 30 fps\n\nfunction draw(timestamp) {\n  if (timestamp - lastFrame < frameInterval) {\n    requestAnimationFrame(draw);\n    return;\n  }\n  lastFrame = timestamp;\n\n  // Clear with fade\n  ctx.fillStyle = 'rgba(13, 17, 23, 0.15)';\n  ctx.fillRect(0, 0, W, H);\n\n  // Stars\n  stars.forEach(star => {\n    star.update();\n    star.draw();\n  });\n\n  // Ripples\n  ctx.globalAlpha = 1;\n  for (let i = ripples.length - 1; i >= 0; i--) {\n    const r = ripples[i];\n    r.radius += 3;\n    r.opacity -= 0.02;\n\n    ctx.strokeStyle = '#66bb99';\n    ctx.lineWidth = 1;\n    ctx.globalAlpha = r.opacity;\n    ctx.beginPath();\n    ctx.arc(r.x, r.y, r.radius, 0, Math.PI * 2);\n    ctx.stroke();\n\n    if (r.opacity <= 0) ripples.splice(i, 1);\n  }\n\n  ctx.globalAlpha = 1;\n\n  // Seeds\n  seeds.forEach((seed, i) => {\n    seed.update();\n    seed.draw();\n    if (seed.isDead()) {\n      seeds.splice(i, 1);\n    }\n  });\n\n  // Particles\n  particles.forEach((p, i) => {\n    p.update();\n    p.draw();\n    if (p.life <= 0) particles.splice(i, 1);\n  });\n\n  ctx.globalAlpha = 1;\n\n  requestAnimationFrame(draw);\n}\n\ndraw();\n</script>\n</body>\n</html>"}