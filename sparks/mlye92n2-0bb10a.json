{"id":"mlye92n2-0bb10a","type":"spark","title":"Cryptographic Garden","timestamp":"2026-02-22T23:43:47.102Z","parentId":null,"html":"```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Cryptographic Garden</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        body {\n            background: #0d1117;\n            color: #c9d1d9;\n            font-family: 'Courier New', monospace;\n            overflow: hidden;\n            width: 100vw;\n            height: 100vh;\n            display: flex;\n            flex-direction: column;\n        }\n        #header {\n            padding: 20px;\n            border-bottom: 1px solid #30363d;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        #title {\n            font-size: 18px;\n            letter-spacing: 2px;\n        }\n        #info {\n            font-size: 11px;\n            opacity: 0.6;\n        }\n        #canvas-container {\n            flex: 1;\n            position: relative;\n            overflow: hidden;\n        }\n        canvas {\n            display: block;\n            width: 100%;\n            height: 100%;\n        }\n        #controls {\n            position: absolute;\n            bottom: 20px;\n            left: 20px;\n            background: rgba(13, 17, 23, 0.9);\n            padding: 15px;\n            border: 1px solid #30363d;\n            border-radius: 4px;\n            max-width: 350px;\n        }\n        #seed-input {\n            width: 100%;\n            background: #161b22;\n            border: 1px solid #30363d;\n            color: #c9d1d9;\n            padding: 8px;\n            font-family: 'Courier New', monospace;\n            font-size: 12px;\n            margin-bottom: 10px;\n        }\n        #stats {\n            font-size: 10px;\n            line-height: 1.6;\n            opacity: 0.8;\n        }\n        .stat-label {\n            color: #6b9;\n        }\n        #hint {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            font-size: 12px;\n            opacity: 0.4;\n            text-align: center;\n            pointer-events: none;\n            transition: opacity 0.5s;\n        }\n        #hint.hidden {\n            opacity: 0;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"header\">\n        <div id=\"title\">CRYPTOGRAPHIC GARDEN</div>\n        <div id=\"info\">each seed grows a unique ecosystem</div>\n    </div>\n    <div id=\"canvas-container\">\n        <canvas id=\"garden\"></canvas>\n        <div id=\"hint\">type any phrase to plant a garden<br>same seed = same garden, always</div>\n        <div id=\"controls\">\n            <input type=\"text\" id=\"seed-input\" placeholder=\"enter seed phrase...\" autocomplete=\"off\">\n            <div id=\"stats\">\n                <div><span class=\"stat-label\">hash:</span> <span id=\"hash-display\">—</span></div>\n                <div><span class=\"stat-label\">species:</span> <span id=\"species-count\">0</span></div>\n                <div><span class=\"stat-label\">population:</span> <span id=\"population\">0</span></div>\n                <div><span class=\"stat-label\">entropy:</span> <span id=\"entropy\">0.000</span></div>\n                <div><span class=\"stat-label\">bloom cycle:</span> <span id=\"cycle\">—</span></div>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        const canvas = document.getElementById('garden');\n        const ctx = canvas.getContext('2d');\n        const seedInput = document.getElementById('seed-input');\n        const hint = document.getElementById('hint');\n        \n        let width, height;\n        let garden = [];\n        let currentSeed = '';\n        let time = 0;\n        \n        function resizeCanvas() {\n            width = canvas.width = canvas.offsetWidth;\n            height = canvas.height = canvas.offsetHeight;\n        }\n        resizeCanvas();\n        window.addEventListener('resize', resizeCanvas);\n        \n        // SHA-256-like hash (simplified for determinism)\n        function hash(str) {\n            let h = 0x811c9dc5;\n            for (let i = 0; i < str.length; i++) {\n                h ^= str.charCodeAt(i);\n                h = Math.imul(h, 0x01000193);\n            }\n            return Math.abs(h);\n        }\n        \n        // Deterministic PRNG from seed\n        class SeededRandom {\n            constructor(seed) {\n                this.seed = seed % 2147483647;\n                if (this.seed <= 0) this.seed += 2147483646;\n            }\n            next() {\n                this.seed = (this.seed * 16807) % 2147483647;\n                return (this.seed - 1) / 2147483646;\n            }\n            range(min, max) {\n                return min + this.next() * (max - min);\n            }\n            int(min, max) {\n                return Math.floor(this.range(min, max));\n            }\n        }\n        \n        // Organism species\n        class Species {\n            constructor(rng, id) {\n                this.id = id;\n                this.hue = rng.range(0, 360);\n                this.size = rng.range(3, 15);\n                this.speed = rng.range(0.2, 2);\n                this.lifespan = rng.int(200, 1000);\n                this.bloomPeriod = rng.int(50, 200);\n                this.petals = rng.int(3, 8);\n                this.spiral = rng.next() > 0.5;\n                this.pulseRate = rng.range(0.02, 0.1);\n                this.trailLength = rng.int(0, 30);\n            }\n        }\n        \n        // Individual organism\n        class Organism {\n            constructor(species, x, y, rng) {\n                this.species = species;\n                this.x = x;\n                this.y = y;\n                this.vx = rng.range(-species.speed, species.speed);\n                this.vy = rng.range(-species.speed, species.speed);\n                this.age = 0;\n                this.phase = rng.range(0, Math.PI * 2);\n                this.trail = [];\n            }\n            \n            update(time) {\n                this.age++;\n                \n                // Brownian motion with drift\n                this.vx += (Math.random() - 0.5) * 0.1;\n                this.vy += (Math.random() - 0.5) * 0.1;\n                \n                // Constrain velocity\n                const maxSpeed = this.species.speed;\n                const speed = Math.sqrt(this.vx * this.vx + this.vy * this.vy);\n                if (speed > maxSpeed) {\n                    this.vx = (this.vx / speed) * maxSpeed;\n                    this.vy = (this.vy / speed) * maxSpeed;\n                }\n                \n                this.x += this.vx;\n                this.y += this.vy;\n                \n                // Wrap around\n                if (this.x < 0) this.x = width;\n                if (this.x > width) this.x = 0;\n                if (this.y < 0) this.y = height;\n                if (this.y > height) this.y = 0;\n                \n                // Trail\n                if (this.species.trailLength > 0) {\n                    this.trail.push({x: this.x, y: this.y});\n                    if (this.trail.length > this.species.trailLength) {\n                        this.trail.shift();\n                    }\n                }\n            }\n            \n            draw(ctx, time) {\n                const bloom = (Math.sin((time - this.age) / this.species.bloomPeriod * Math.PI * 2) + 1) / 2;\n                const pulse = (Math.sin(time * this.species.pulseRate + this.phase) + 1) / 2;\n                const alpha = Math.max(0, 1 - this.age / this.species.lifespan);\n                \n                // Draw trail\n                if (this.trail.length > 1) {\n                    ctx.strokeStyle = `hsla(${this.species.hue}, 70%, 60%, ${alpha * 0.2})`;\n                    ctx.lineWidth = 1;\n                    ctx.beginPath();\n                    ctx.moveTo(this.trail[0].x, this.trail[0].y);\n                    for (let i = 1; i < this.trail.length; i++) {\n                        ctx.lineTo(this.trail[i].x, this.trail[i].y);\n                    }\n                    ctx.stroke();\n                }\n                \n                const size = this.species.size * (0.5 + bloom * 0.5) * (0.8 + pulse * 0.2);\n                \n                ctx.save();\n                ctx.translate(this.x, this.y);\n                \n                if (this.species.spiral) {\n                    ctx.rotate(time * 0.01 + this.phase);\n                }\n                \n                // Draw petals\n                for (let i = 0; i < this.species.petals; i++) {\n                    const angle = (i / this.species.petals) * Math.PI * 2;\n                    const petalLength = size * (1 + bloom * 0.5);\n                    const px = Math.cos(angle) * petalLength;\n                    const py = Math.sin(angle) * petalLength;\n                    \n                    ctx.beginPath();\n                    ctx.arc(px, py, size * 0.3, 0, Math.PI * 2);\n                    ctx.fillStyle = `hsla(${this.species.hue}, 70%, ${50 + bloom * 20}%, ${alpha * 0.8})`;\n                    ctx.fill();\n                }\n                \n                // Draw center\n                ctx.beginPath();\n                ctx.arc(0, 0, size * 0.4, 0, Math.PI * 2);\n                ctx.fillStyle = `hsla(${this.species.hue + 30}, 80%, ${60 + pulse * 20}%, ${alpha})`;\n                ctx.fill();\n                \n                ctx.restore();\n            }\n            \n            isDead() {\n                return this.age > this.species.lifespan;\n            }\n        }\n        \n        function plantGarden(seed) {\n            if (!seed) return;\n            \n            currentSeed = seed;\n            hint.classList.add('hidden');\n            \n            const hashValue = hash(seed);\n            const rng = new SeededRandom(hashValue);\n            \n            // Generate species\n            const speciesCount = rng.int(3, 8);\n            const species = [];\n            for (let i = 0; i < speciesCount; i++) {\n                species.push(new Species(rng, i));\n            }\n            \n            // Generate initial population\n            garden = [];\n            const initialPop = rng.int(30, 80);\n            for (let i = 0; i < initialPop; i++) {\n                const sp = species[rng.int(0, species.length)];\n                const x = rng.range(0, width);\n                const y = rng.range(0, height);\n                garden.push(new Organism(sp, x, y, rng));\n            }\n            \n            // Update stats\n            document.getElementById('hash-display').textContent = hashValue.toString(16).substring(0, 8);\n            document.getElementById('species-count').textContent = speciesCount;\n            updateStats();\n        }\n        \n        function updateStats() {\n            document.getElementById('population').textContent = garden.length;\n            \n            // Calculate entropy (species diversity)\n            const speciesMap = {};\n            garden.forEach(org => {\n                speciesMap[org.species.id] = (speciesMap[org.species.id] || 0) + 1;\n            });\n            let entropy = 0;\n            Object.values(speciesMap).forEach(count => {\n                const p = count / garden.length;\n                entropy -= p * Math.log2(p);\n            });\n            document.getElementById('entropy').textContent = entropy.toFixed(3);\n            \n            const cycle = Math.floor(time / 100) % 12;\n            const seasons = ['dormant', 'sprouting', 'growing', 'blooming', 'thriving', 'seeding', \n                           'mature', 'golden', 'fading', 'withering', 'sleeping', 'resting'];\n            document.getElementById('cycle').textContent = seasons[cycle];\n        }\n        \n        function animate() {\n            time++;\n            \n            // Clear with fade\n            ctx.fillStyle = 'rgba(13, 17, 23, 0.1)';\n            ctx.fillRect(0, 0, width, height);\n            \n            // Update and draw organisms\n            garden.forEach(org => {\n                org.update(time);\n                org.draw(ctx, time);\n            });\n            \n            // Remove dead organisms\n            garden = garden.filter(org => !org.isDead());\n            \n            // Regenerate if population too low and we have a seed\n            if (garden.length < 10 && currentSeed) {\n                const rng = new SeededRandom(hash(currentSeed) + time);\n                const species = garden[0]?.species;\n                if (species) {\n                    for (let i = 0; i < 5; i++) {\n                        const x = rng.range(0, width);\n                        const y = rng.range(0, height);\n                        garden.push(new Organism(species, x, y, rng));\n                    }\n                }\n            }\n            \n            // Update stats every 30 frames\n            if (time % 30 === 0) {\n                updateStats();\n            }\n            \n            requestAnimationFrame(animate);\n        }\n        \n        seedInput.addEventListener('input', (e) => {\n            plantGarden(e.target.value);\n        });\n        \n        seedInput.addEventListener('keydown', (e) => {\n            if (e.key === 'Enter') {\n                seedInput.blur();\n            }\n        });\n        \n        // Focus input on load\n        setTimeout(() => seedInput.focus(), 100);\n        \n        animate();\n    </script>\n</body>\n</html>\n```"}